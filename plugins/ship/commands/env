# Ship Command Environment Variables
# ì´ íŒŒì¼ì€ /ship ì»¤ë§¨ë“œ ì „ì²´ì—ì„œ ì‚¬ìš©ë˜ëŠ” í™˜ê²½ ë³€ìˆ˜ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

# Task ID ì ‘ë‘ì‚¬
TASK_ID_PREFIX="KT-"

# Branch ì´ë¦„ íŒ¨í„´
BRANCH_PATTERN="^[a-z]+/KT-[0-9]+$"

# í˜„ì¬ ë¸Œëœì¹˜ ì •ë³´ ì¶”ì¶œ ìŠ¤í¬ë¦½íŠ¸
# ëª¨ë“  ship ì»¤ë§¨ë“œëŠ” ì‹œì‘ ì‹œ ì´ ë³€ìˆ˜ë“¤ì„ ì¶”ì¶œí•´ì•¼ í•©ë‹ˆë‹¤.
extract_branch_info() {
  # Extract from current branch
  CURRENT_BRANCH=$(git branch --show-current)
  USERNAME=$(echo "$CURRENT_BRANCH" | cut -d'/' -f1)
  CURRENT_TASK_ID=$(echo "$CURRENT_BRANCH" | grep -oE 'KT-[0-9]+')

  # Validate extraction
  if [ -z "$USERNAME" ] || [ -z "$CURRENT_TASK_ID" ]; then
    echo "âŒ Failed to extract username or task ID from branch: $CURRENT_BRANCH"
    echo "ğŸ“‹ Branch must follow format: {username}/KT-{TASK_ID}"
    exit 1
  fi

  # Export for use in other commands
  export CURRENT_BRANCH
  export USERNAME
  export CURRENT_TASK_ID
  export TASK_ID_PREFIX
}

# PR í¬ê¸° ì œí•œ
PR_MAX_LINES=300

# Build ëª…ë ¹ì–´
BUILD_CMD="./gradlew build -x test"
BUILD_WITH_TEST_CMD="./gradlew build"
TEST_CMD="./gradlew test"
LINT_CMD="./gradlew ktlintFormat editorconfigCheck"

# Notion ë°ì´í„°ë² ì´ìŠ¤ ID (í•„ìš”ì‹œ ì„¤ì •)
# NOTION_TASKS_DATABASE_ID=""
# NOTION_TASKS_DATA_SOURCE_ID=""

# GitHub ì„¤ì •
GITHUB_BASE_BRANCH="main"

# ë¡œê·¸ ì´ëª¨ì§€
LOG_PHASE="ğŸ”"
LOG_SUCCESS="âœ…"
LOG_ERROR="âŒ"
LOG_WARNING="âš ï¸"
LOG_REFERENCE="ğŸ“‹"
LOG_NEXT="ğŸ¯"
LOG_PACKAGE="ğŸ“¦"
